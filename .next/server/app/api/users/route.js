"use strict";(()=>{var e={};e.id=701,e.ids=[701],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32193:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>m});var o={};r.r(o),r.d(o,{GET:()=>d});var s=r(95419),a=r(69108),n=r(99678),i=r(87786),u=r(89166);let d=async(e,t)=>{try{await (0,u.P)();let e=await i.Z.find();return new Response(JSON.stringify(e),{status:200})}catch(e){return console.log(e),new Response("Failed to get all users",{status:500})}},p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/users/route",pathname:"/api/users",filename:"route",bundlePath:"app/api/users/route"},resolvedPagePath:"D:\\company\\halo_cha6\\app\\api\\users\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:g,headerHooks:y,staticGenerationBailout:m}=p,h="/api/users/route";function f(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}},87786:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(11185),s=r.n(o);let a=new(s()).Schema({username:{type:String,required:!0},fullName:{type:String,required:!0},password:{type:String,required:!0},profileImage:{type:String,default:""},role:{type:String,default:"user"},chats:{type:[{type:s().Schema.Types.ObjectId,ref:"Chat"}],default:[]},code:{type:String},codeAddFriends:{type:String}}),n=s().models.User||s().model("User",a)},89166:(e,t,r)=>{r.d(t,{P:()=>n});var o=r(11185),s=r.n(o);let a=!1,n=async()=>{if(s().set("strictQuery",!0),a){console.log("MongoDB is already connected");return}try{await s().connect("mongodb+srv://tanquanga6k10:CpdAVLjkbtX5chAq@shopdientu.l5fgtvm.mongodb.net/shopdientu?retryWrites=true&w=majority",{dbName:"HaloChat",useNewUrlParser:!0,useUnifiedTopology:!0}),a=!0,console.log("MongoDB is connected successfully")}catch(e){console.log(e)}}},95419:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638],()=>r(32193));module.exports=o})();